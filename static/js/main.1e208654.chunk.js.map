{"version":3,"sources":["components/Container/index.jsx","store/actions/index.js","components/TodoItem/index.jsx","App.js","store/reducers/index.js","store/index.js","index.js"],"names":["Container","styled","main","ADD_TODO","DELETE_TODO","EDIT_TODO","TOGGLE_TODO","ALL","COMPLETED","ACTIVE","SET_FILTER","set_filter","filter","type","ItemContainer","after","children","Item","div","props","TodoItem","todo","id","dispatch","currentFilter","useDispatch","deadline","moment","format","isAfter","style","border","background","textDecoration","checked","value","text","onChange","e","edit_todo","target","marginRight","toggle_todo","onClick","delete_todo","danger","Title","h1","InputBlock","App","useState","setText","date","setDate","todos","useSelector","state","className","placeholder","width","add_todo","el","filtered_todos","map","initialState","nextTodoId","toSave","obj","localStorage","setItem","JSON","stringify","localData","parse","getItem","store","createStore","action","obj2","obj3","obj4","obj5","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e208654.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const Container = styled.main`\r\nwidth: 600px;\r\nmargin: 0 auto;\r\n`","// constants\r\n\r\nexport const ADD_TODO = \"ADD_TODO\";\r\nexport const DELETE_TODO = \"DELETE_TODO\";\r\nexport const EDIT_TODO = \"EDIT_TODO\";\r\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\r\n\r\n// filters\r\nexport const ALL = 'ALL'\r\nexport const COMPLETED = 'COMPLETED'\r\nexport const ACTIVE = 'ACTIVE'\r\nexport const SET_FILTER = 'SET_FILTER'\r\n\r\n// action creators\r\n\r\nexport const add_todo = (text, date) => ({\r\n  type: ADD_TODO,\r\n  text,\r\n  date,\r\n});\r\n\r\nexport const delete_todo = (id) => ({\r\n  type: DELETE_TODO,\r\n  id,\r\n});\r\n\r\nexport const edit_todo = (id, text) => ({\r\n  type: EDIT_TODO,\r\n  id,\r\n  text,\r\n});\r\n\r\nexport const toggle_todo = (id, value) => ({\r\n  type: TOGGLE_TODO,\r\n  id,\r\n  value,\r\n});\r\n\r\nexport const set_filter = (filter) => ({\r\n  type: SET_FILTER,\r\n  filter\r\n})","import React from 'react'\r\nimport { Button, Checkbox } from 'antd'\r\nimport styled from 'styled-components'\r\nimport moment from 'moment'\r\nimport { useDispatch } from 'react-redux'\r\nimport { delete_todo, toggle_todo, edit_todo } from '../../store/actions'\r\n\r\nconst ItemContainer = ({ after, children }) => {\r\n    return after ? <Item>{children}</Item> : <Item after >{children}</Item>\r\n}\r\n\r\nconst Item = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nmargin: 10px 0;\r\nbackground-color: ${(props) => {\r\n        return props.after ? 'pink' : 'beige'\r\n    }};\r\npadding: 8px;\r\nborderRadius: 5px;\r\n`\r\n\r\nexport const TodoItem = ({ todo, id, currentFilter }) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function onChange(e) {\r\n        dispatch(toggle_todo(id, e.target.checked))\r\n    }\r\n\r\n    const deadline = moment(todo.deadline).format('MMMM Do YYYY')\r\n    const after = moment(todo.deadline).isAfter(moment())\r\n\r\n    return <ItemContainer after={after}>\r\n        {/* <div\r\n            style={{\r\n                textDecoration:\r\n                    todo.checked\r\n                        ? 'line-through'\r\n                        : 'none'\r\n            }}\r\n            onInput={(e) => {\r\n                console.log(e)\r\n                dispatch(edit_todo(id, e.currentTarget.textContent))\r\n            }}\r\n            contentEditable={true}\r\n            suppressContentEditableWarning={true}>\r\n            {todo.text}\r\n        </div> */}\r\n\r\n        <input\r\n            style={{\r\n                border: 'none',\r\n                background: 'none',\r\n                textDecoration:\r\n                    todo.checked\r\n                        ? 'line-through'\r\n                        : 'none'\r\n            }}\r\n            type=\"text\"\r\n            value={todo.text}\r\n            onChange={(e) => {\r\n                dispatch(edit_todo(id, e.target.value))\r\n            }} />\r\n\r\n        <i style={{ textDecoration: todo.checked ? 'line-through' : 'none' }}>\r\n            {deadline}\r\n        </i>\r\n\r\n        <div>\r\n            <Checkbox\r\n                checked={todo.checked}\r\n                style={{ marginRight: 10 }}\r\n                onChange={onChange}></Checkbox>\r\n            <Button\r\n                onClick={() => {\r\n                    dispatch(delete_todo(id))\r\n                }}\r\n                type=\"primary\"\r\n                danger>delete</Button>\r\n        </div>\r\n    </ItemContainer>\r\n}","import \"./App.css\";\nimport { Container } from \"./components/Container\";\nimport styled from \"styled-components\";\nimport { Input, DatePicker, Button, Checkbox } from \"antd\";\nimport { TodoItem } from \"./components/TodoItem\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState } from \"react\";\nimport { add_todo } from \"./store/actions\";\nimport { set_filter, ALL, COMPLETED, ACTIVE } from \"./store/actions\";\n\n// sub-components\nconst Title = styled.h1`\n  text-align: center;\n  margin-bottom: 10px;\n`;\n\nconst InputBlock = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\n// main component\nfunction App() {\n  // hooks\n  const [text, setText] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n\n  // store\n  const todos = useSelector((state) => state.todos);\n  const currentFilter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  function onChangeDate(date) {\n    // console.log(date, dateString);\n    setDate(date);\n  }\n\n  // onclick button Add\n  const onAdd = () => {\n    text && date && dispatch(add_todo(text, date));\n  };\n\n  const filtered_todos = () => {\n    switch (currentFilter) {\n      case ALL:\n        return todos;\n\n      case COMPLETED:\n        return todos.filter((el) => el.checked === true);\n\n      case ACTIVE:\n        return todos.filter((el) => el.checked === false);\n\n      default:\n        return todos;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Container>\n        <Title>Todo List</Title>\n        <InputBlock>\n          <Input\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"type smth ...\"\n            style={{ width: 350 }}\n          />\n          <DatePicker value={date} onChange={onChangeDate} />\n          <Button onClick={onAdd} type=\"primary\">\n            Add\n          </Button>\n        </InputBlock>\n        <div>\n          <Checkbox\n            checked={currentFilter === ALL}\n            style={{ marginRight: 10 }}\n            onChange={() => {\n              dispatch(set_filter(ALL));\n            }}\n          >\n            All\n          </Checkbox>\n          <Checkbox\n            checked={currentFilter === COMPLETED}\n            style={{ marginRight: 10 }}\n            onChange={() => {\n              dispatch(set_filter(COMPLETED));\n            }}\n          >\n            Completed\n          </Checkbox>\n          <Checkbox\n            checked={currentFilter === ACTIVE}\n            style={{ marginRight: 10 }}\n            onChange={() => {\n              dispatch(set_filter(ACTIVE));\n            }}\n          >\n            Active\n          </Checkbox>\n        </div>\n        <div>\n          {filtered_todos().map((el, id) => {\n            return <TodoItem key={id} id={el.id} todo={el} />;\n          })}\n        </div>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import {\r\n  ADD_TODO,\r\n  DELETE_TODO,\r\n  EDIT_TODO,\r\n  TOGGLE_TODO,\r\n  SET_FILTER,\r\n  ALL,\r\n} from \"../actions\";\r\n\r\nconst initialState = {\r\n  todos: [],\r\n  filter: ALL,\r\n  nextTodoId: 0,\r\n};\r\n\r\nconst toSave = (obj) => {\r\n  localStorage.setItem(\"state\", JSON.stringify(obj));\r\n};\r\n\r\nconst localData = JSON.parse(localStorage.getItem(\"state\"));\r\n\r\nexport const rootReducer = (\r\n  state = localData ? localData : initialState,\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case ADD_TODO:\r\n      let obj = {\r\n        ...state,\r\n        todos: [\r\n          ...state.todos,\r\n          {\r\n            id: state.nextTodoId++,\r\n            text: action.text,\r\n            deadline: action.date,\r\n            checked: false,\r\n          },\r\n        ],\r\n        nextTodoId: state.nextTodoId++,\r\n      };\r\n\r\n      toSave(obj);\r\n      return obj;\r\n\r\n    case DELETE_TODO:\r\n      let obj2 = {\r\n        ...state,\r\n        todos: state.todos.filter((el) => el.id !== action.id),\r\n      };\r\n\r\n      toSave(obj2);\r\n      return obj2;\r\n\r\n    case TOGGLE_TODO:\r\n      let obj3 = {\r\n        ...state,\r\n        todos: state.todos.map((todo) => {\r\n          return todo.id === action.id\r\n            ? { ...todo, checked: action.value }\r\n            : todo;\r\n        }),\r\n      };\r\n\r\n      toSave(obj3);\r\n      return obj3;\r\n\r\n    case EDIT_TODO:\r\n      let obj4 = {\r\n        ...state,\r\n        todos: state.todos.map((todo) => {\r\n          return todo.id === action.id ? { ...todo, text: action.text } : todo;\r\n        }),\r\n      };\r\n\r\n      toSave(obj4);\r\n      return obj4;\r\n\r\n    case SET_FILTER:\r\n      let obj5 = {\r\n        ...state,\r\n        filter: action.filter,\r\n      };\r\n\r\n      toSave(obj5);\r\n      return obj5;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from \"redux\";\r\nimport { rootReducer } from \"./reducers\";\r\n\r\nexport const store = createStore(rootReducer);\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"antd/dist/antd.css\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}